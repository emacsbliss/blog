<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="alternate"
      type="application/rss+xml"
      href="https://emacsbliss.com/rss.xml"
      title="RSS feed for https://emacsbliss.com/">
<title>EmacsBliss</title>
<meta name="author" content="EmacsBliss">
        <meta name="referrer" content="no-referrer">
        <link href= "static/org-notes-style.css" rel="stylesheet" type="text/css" />
        <link rel="icon" href="static/favicon.ico"></head>
<body>
<div id="preamble" class="status"><div class="header">
           <a href="https://emacsbliss.com">Emacs Bliss</a>
           <div class="sitelinks">
             <a href="https://github.com/emacsbliss">Github</a>
           </div>
        </div></div>
<div id="content">
<h1 class="title">Posts tagged "Git":</h1>
<div class="post-date">09 Sep 2018</div><h1 class="post-title"><a href="https://emacsbliss.com/2018-09-09-emacs-is-an-awesome-git-client.html">Emacs is an awesome git client</a></h1>
<p>
Emacs is much more than just a text editor in many ways. It&rsquo;s an excellent File Explorer(with <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired.html">dired</a>), notes organizer and GTD tool (with <code>Org mode</code>) and much more.
</p>

<p>
Among so many roles Emacs can be,it&rsquo;s also an <b>awesome</b> Git client across multiple platforms including macOS, Linux and Windows.
</p>

<div id="outline-container-necessary-packages" class="outline-2">
<h2 id="necessary-packages">necessary packages</h2>
<div class="outline-text-2" id="text-necessary-packages">
<p>
This is made possible via several Emacs packages:
</p>

<ul class="org-ul">
<li><a href="https://magit.vc/">Magit</a></li>
<li><a href="https://github.com/emacs-evil/evil-magit">evil-magit</a></li>
<li><a href="https://gitlab.com/pidu/git-timemachine/">Git time machine</a></li>
<li><a href="https://github.com/syohex/emacs-git-gutter-fringe">Git gutter fringe</a></li>
</ul>
</div>
</div>

<div id="outline-container-magit-magical" class="outline-2">
<h2 id="magit-magical">Magit is magical</h2>
<div class="outline-text-2" id="text-magit-magical">
<p>
Among all these packages, <code>Magit</code> is the most critical one and does most of the heavy lifting. It alone enables me to perform all the git operations I can
think of.
</p>

<p>
Magit website has an excellent <a href="https://magit.vc/screenshots/">guide</a> to walk you through all the basic things like:
</p>

<ul class="org-ul">
<li>show the current repository status</li>
<li>stage/commit files/changes</li>
<li>show git log history and move through logs</li>
<li>rebase/merge/branching</li>
<li>diffing</li>
</ul>

<p>
There are a few things from Magit I particularly like because they&rsquo;re <b>MUCH</b> easier with magit than the git CLI or even some other git tools.
</p>

<p>
Here&rsquo;s my list:
</p>

<ul class="org-ul">
<li>stage a particular <code>hunk</code> of a file</li>
<li>quickly discard changes to files/hunks</li>
<li>list all the commits affecting a particular file</li>
<li>list all the commits affecting a particular function</li>
</ul>

<p>
Magit is really sweet for git, but as I&rsquo;m so used to Vim editing mode(that&rsquo;s where the <code>evil</code> package really shines), I want to use Vim keybinding for operating magit buffer (for eg, use <code>hjkl</code> for navigating). <code>evil-magit</code> makes me feel right at home.
</p>
</div>
</div>

<div id="outline-container-time-travelling" class="outline-2">
<h2 id="time-travelling">time travelling</h2>
<div class="outline-text-2" id="text-time-travelling">
<p>
I realized there are times I want to see a particular version for a given file or just traverse through versions; <code>git time machine</code> is the package that helps me with that. However I need a little <a href="http://blog.binchen.org/posts/new-git-timemachine-ui-based-on-ivy-mode.html">tweak</a> so I can select the particular version as the starting point (other than current head).
</p>

<p>
After starting the git time machine, you can use <code>p</code> to go to the previous version while <code>n</code> goes to the next version. There is also a line at the top of the buffer to indicate which version you&rsquo;re looking at along with other relevant information.
</p>

<p>
See it in action below:
<img src="static/img/git-time-machine.gif" alt="git-time-machine.gif">
</p>
</div>
</div>

<div id="outline-container-show-indication-changes" class="outline-2">
<h2 id="show-indication-changes">show indication of changes in real time</h2>
<div class="outline-text-2" id="text-show-indication-changes">
<p>
Sometimes we may also find it helpful that Emacs will show the indication that some lines are changed since the last commit on the fringe of the buffer for whatever reason, that&rsquo;s what <code>git gutter fringe</code> package is for.
</p>

<p>
It will give you the visual indication on the left fringe of the current buffer if there is change, something like this:
</p>

<p>
Again, with a little <a href="http://blog.binchen.org/posts/enhance-emacs-git-gutter-with-ivy-mode.html">tweak</a> we can easily get a list of changes in the current buffer and jump to the one I&rsquo;m interested in:
</p>


<figure id="org7087543">
<img src="static/img/git-gutter.gif" alt="git-gutter.gif">

</figure>
</div>
</div>

<div id="outline-container-my-workflow" class="outline-2">
<h2 id="my-workflow">my workflow</h2>
<div class="outline-text-2" id="text-my-workflow">
<p>
There are basically two workflows for me.
</p>

<p>
If I just want to do things like the following with the current file:
</p>

<ul class="org-ul">
<li>get diff for changes</li>
<li>get list of commits</li>
<li>get list of commits affect a function</li>
<li>stage current file</li>
</ul>

<p>
Then I just invoke the key binding corresponds to the <code>magit</code> command without openning <code>magit status buffer</code>.
</p>

<p>
However if I want to:
</p>
<ul class="org-ul">
<li>get the status of a repository</li>
<li>stage/unstage certain files</li>
<li>commit current staged changes</li>
<li>pull/push from remote</li>
<li>branching/merging</li>
</ul>

<p>
then I would use <code>magit-status</code> (I bound to <code>SPC g s</code>) to launch the magit status buffer and start from there.
</p>

<p>
Here is a demo showing some of the operations mentioned above:
</p>


<figure id="org761b29e">
<img src="static/img/emacs-git-client.gif" alt="emacs-git-client.gif">

</figure>
</div>

<div id="outline-container-keybinding" class="outline-3">
<h3 id="keybinding">keybinding</h3>
<div class="outline-text-3" id="text-keybinding">
<p>
I use <code>space</code> as <code>leader</code> key for <code>Evil</code> mode, and all git related functions are
bound to <code>g</code> using package <a href="https://github.com/noctuid/general.el">general</a>:
</p>

<div class="org-src-container">
<pre class="src src-lisp">(general-define-key
 <span style="color: #3a81c3;">:states</span> '(normal visual insert emacs)
 <span style="color: #3a81c3;">:keymaps</span> 'override
 <span style="color: #3a81c3;">:prefix</span> <span style="color: #2d9574;">"SPC"</span>
 <span style="color: #3a81c3;">:non-normal-prefix</span> <span style="color: #2d9574;">"M-m"</span>

 <span style="color: #2d9574;">"g"</span> '(<span style="color: #3a81c3;">:ignore</span> t <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"Git"</span>)
 <span style="color: #2d9574;">"gs"</span> '(magit-status <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"Git status"</span>)
 <span style="color: #2d9574;">"ga"</span> '(magit-stage-file <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"stage this file"</span>)
 <span style="color: #2d9574;">"gb"</span> '(magit-blame <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"Git blame"</span>)
 <span style="color: #2d9574;">"gc"</span> '(magit-commit <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"Git commit"</span>)
 <span style="color: #2d9574;">"gd"</span> '(magit-diff-buffer-file <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"Git diff"</span>)
 <span style="color: #2aa1ae; background-color: #ecf3ec;">;; </span><span style="color: #2aa1ae; background-color: #ecf3ec;">list commits affect current function</span>
 <span style="color: #2d9574;">"gf"</span> '(magit-log-trace-definition <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"show commits for this function"</span>)
 <span style="color: #2aa1ae; background-color: #ecf3ec;">;; </span><span style="color: #2aa1ae; background-color: #ecf3ec;">list commits affect current file</span>
 <span style="color: #2d9574;">"gl"</span> '(magit-log-buffer-file <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"show commits for this file"</span>)
 <span style="color: #2d9574;">"gg"</span> '(hydra-git/body <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"Git gutter"</span>)
 <span style="color: #2d9574;">"gp"</span> '(magit-push-current <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"Git push"</span>)
 <span style="color: #2d9574;">"gt"</span> '(my-git-timemachine <span style="color: #3a81c3;">:which-key</span> <span style="color: #2d9574;">"Git time machine"</span>)
)
</pre>
</div>

<p>
So pressing <code>Space g</code> will show a list of available keys:
</p>


<figure id="org1cb892f">
<img src="static/img/git-keybinding.png" alt="git-keybinding.png">

</figure>

<p>
There is also a nice <a href="https://kapeli.com/cheat_sheets/Magit_for_Emacs.docset/Contents/Resources/Documents/index">cheatsheet</a> from excellent API documentation browser software: <a href="https://kapeli.com/dash">Dash.</a>
</p>
</div>
</div>
</div>

<div id="outline-container-conclusion" class="outline-2">
<h2 id="conclusion">Conclusion</h2>
<div class="outline-text-2" id="text-conclusion">
<p>
Hopefully by now you have seen how awesome Emacs is as a git client.
</p>

<p>
It&rsquo;s pretty much a no-brainer for anyone who already uses Emacs day to day to adopt those packages (IF they have not done so).
</p>

<p>
But even for non-Emacs user, if you need to work with git, I would still recommend it even this is the <b>ONLY</b> thing you use Emacs for.
</p>

<p>
With all these packages and a little bit of customization Emacs turns into a top-notch and <b>FREE</b> (also across platform) git client.
</p>
</div>
</div>
<div class="taglist"><a href="https://emacsbliss.com/tags.html">Tags</a>: <a href="https://emacsbliss.com/tag-emacs.html">Emacs</a> <a href="https://emacsbliss.com/tag-git.html">Git</a> </div><div id="archive">
<a href="https://emacsbliss.com/archive.html">Other posts</a>
</div>
</div>
<div id="postamble" class="status"><div id="archive">
        <a href="https://staticblog.org/archive.html">Other posts</a>
        </div>
        <center><a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a><br /><span xmlns:dct="https://purl.org/dc/terms/" href="https://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">EmacsBliss</span> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://emacsbliss.com" property="cc:attributionName" rel="cc:attributionURL">EmacsBliss</a> is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</center></div>
</body>
</html>
